{% extends 'base.html.twig' %}

{% block title %}Profil{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="../../assets/css/style.css">
{% endblock %}

{% block body %}

    <section class="">
        <h1>Profil</h1>

        <div class = "row justify-content-center">
            <div class = "col-6">


       {{ form_start(user_form) }}
        {{ form_row(user_form.pseudo) }}
        {{ form_row(user_form.nom) }}
        {{ form_row(user_form.prenom) }}
        {{ form_row(user_form.email) }}
        {{ form_row(user_form.telephone) }}
        {{ form_row(user_form.campus) }}
        {% if isModified == true %}
        {{ form_row(user_form.plainPassword) }}
        {% endif %}
        {% if isModified == true %}
            <button type="submit" class="btn"> Enregistrer </button>
        {% endif %}

        {% if isModified == false %}
            <div class="btn-position">
            <button type="button" class="btn"> <a href="{{ path('app_user_update',{id: app.user.id}) }}"> Modifier </a> </button>
            </div>
        {% endif %}
        {{ form_end(user_form,{render_rest: false}) }}

            </div>
        </div>
    </section>
    <section class="">
        <h4>Sorties organisées</h4>
        {% if(sortiesOrganisees is not empty) %}
        <div class = "row justify-content-center">
            <div class = "col-6">
                {%  for sortie in sortiesOrganisees %}
                <article class="card">
                    <h4>{{ sortie.nom }}</h4>
                    <span>Date : {{ sortie.dateHeureDebut|date('d/m/Y') }}</span>
                    <a href="{{ path('sortie_detail', {id : sortie.id }) }}">Détails</a>
                </article>
                {% endfor %}
            </div>
        </div>
{%  else %}
    <p>Aucune sortie organisée</p>
{% endif %}
    </section>


{% endblock %}
